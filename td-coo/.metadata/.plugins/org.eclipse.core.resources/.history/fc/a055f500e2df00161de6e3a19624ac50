
package com.vue;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;

import com.controler.AbstractControler;
import com.model.AbstractModel;
import com.observer.Observer;

public class VuePrincipale extends JFrame implements Observer{
	
	private JPanel container = new JPanel();
	private Case[][] cases;
	// l'ensemble des objets de vue
	//private 
	
	//L'instance de notre objet controleur
	private AbstractControler controler;
	
	
	public VuePrincipale(AbstractControler controler){
		
		// initialisation des composants
		//...
		this.controler = controler;
		//...
		
		container=new JPanel();
		container.setBackground(Color.GRAY);
		container.setPreferredSize(new Dimension(400,400));
		container.setLayout(new GridBagLayout());
		GridBagConstraints c = new GridBagConstraints();
		
		this.setMaximumSize(new Dimension (400,400));
		
		this.cases=new Case[AbstractModel.NB_LIGNE][AbstractModel.NB_LIGNE];
		for(int i=0; i<AbstractModel.NB_LIGNE; i++)
		{	
			for(int j=0; j<AbstractModel.NB_LIGNE; j++)
			{
				c.gridx=j;
				c.gridy=i;
				c.insets=new Insets(3,3,3,3);;
				
				cases[i][j]=new Case();
				container.add(cases[i][j],c);
			}
		}
		
	}
	
	//Les listeners de chaque bouton ou composant
	class CaseListener implements ActionListener{
		public void actionPerformed(ActionEvent e) {
			String command = ((JButton) e.getSource()).getActionCommand();
			
			
			
			if(command=="Ok")
			{	
				f.afficherPanneau(f.lePanneau);
				f.lePanneau.setFocusable(true);
				f.lePanneau.requestFocus();
			}
			
			if(command==">")
			{	
				this.changeScreenRight();
			}
			if(command=="<")
			{
				this.changeScreenLeft();
			}
		}

		
	}
	
	//Implementation du pattern observer
	public void update(int x, int y, String s) {
		// TODO Auto-generated method stub
		
	}

}